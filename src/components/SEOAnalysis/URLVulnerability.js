import React from 'react';

const URLVulnerability = (rawResult) =>{
  try{
  const result = rawResult.result;

  const isSuccess = result.every(data => data.isValid);

  return(
    <div>
      <h2>URL Vulnerability Report</h2>
      <h3>Alternate Links</h3>
      <table>
        <thead>
          <tr>
            <td>S.No</td>
            <td>Link</td>
            <td>In Lowercase</td>
            <td>No Underscores</td>
            <td>No Duplicate Slashes</td>
          </tr>
        </thead>
        <tbody>
          {result.map((data, index) => (
            <tr key={index}>
            <td>{index +1}</td>
            <td>{data.link}</td>
            <td className={`output-status ${data.isLowerCase === '&#10003;'? 'success' : 'failure'}`}><span dangerouslySetInnerHTML={{ __html: data.isLowerCase }} /></td>
            <td className={`output-status ${data.hasUnderscores === '&#10003;' ? 'success' : 'failure'}`}><span dangerouslySetInnerHTML={{ __html: data.hasUnderscores }} /></td>
            <td className={`output-status ${data.hasDuplicateSlashes === '&#10003;' ? 'success' : 'failure'}`}><span dangerouslySetInnerHTML={{ __html: data.hasDuplicateSlashes }} /></td>
            </tr>
            ))}
        </tbody>
        <h3>Output</h3>
        <tbody>
          <tr>
            <td><strong>Status</strong></td>
            <td><p className={`output-status ${isSuccess ? 'success' : 'failure'}`} > {isSuccess ? 'Success' : 'Failure'}</p></td>
          </tr>
          <tr>
            <td><strong>Report</strong></td>
            <td>Incomplete SEO optimization detected. Enhance URLs by incorporating hyphens, lowercase letters, avoiding double slashes, and eliminating underscores to improve search engine visibility.</td>
          </tr>
        </tbody>
      </table>
    </div>
  )
} catch (error) {
  return (
    <div>
      <h2>Error</h2>
      <p>{error.message}</p>
    </div>
  );
}
};


export default URLVulnerability;
